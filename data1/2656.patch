From 823ab2fe59a776aaa8157f8d6afa1e875efb5551 Mon Sep 17 00:00:00 2001
From: Claudio Mezzasalma <claudio.mezzasalma@eurotech.com>
Date: Fri, 12 Jul 2019 17:06:25 +0200
Subject: [PATCH] Set totalCount and limitExceeded in DataMessageJson.query
 result

Signed-off-by: Claudio Mezzasalma <claudio.mezzasalma@eurotech.com>
---
 .../kapua/app/api/resources/v1/resources/DataMessagesJson.java  | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/rest-api/resources/src/main/java/org/eclipse/kapua/app/api/resources/v1/resources/DataMessagesJson.java b/rest-api/resources/src/main/java/org/eclipse/kapua/app/api/resources/v1/resources/DataMessagesJson.java
index 8d4b4e7d23e..ea1a1a21ea8 100644
--- a/rest-api/resources/src/main/java/org/eclipse/kapua/app/api/resources/v1/resources/DataMessagesJson.java
+++ b/rest-api/resources/src/main/java/org/eclipse/kapua/app/api/resources/v1/resources/DataMessagesJson.java
@@ -202,6 +202,8 @@ public JsonMessageListResult queryJson(
 
         JsonMessageListResult jsonResult = new JsonMessageListResult();
         jsonResult.addItems(jsonDatastoreMessages);
+        jsonResult.setLimitExceeded(result.isLimitExceeded());
+        jsonResult.setTotalCount(result.getTotalCount());
         return jsonResult;
     }
 
